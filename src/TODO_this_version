--------------------------------------------------
--------------top bar menu----------

*busqueda indexada. que cuando se haya abierto top bar agregue automaticamente "Main Menu" a todos, siempre que no venga indicado
claro. o no, porque si hay top bar, "Storage" menu por ejemplo es un menu directo sin tener que pasar por Main Menu
Excepto por el main menu mismo, sino agregaria "Main Menu->Main Menu"
->lo hace mal, parcialmente: ejemplo:
Main Menu-> Settings
pero:
Settings Menu-> Accessibility Settings
->pero sucede lo mismo sin topbar y desplegando menus desde los botones superiores
->Pero no puedo agregar "Main Menu" de manera sistemática a todos, por ejemplo al pulsar
boton derecho en zx desktop e ir a settings, se genera menu inicial  "ZX Desktop Settings". Si se agregase Main Menu quedaria:
"Main Menu-> ZX Desktop Settings", lo cual es incorrecto, lo correcto es:
"Main Menu-> Settings-> ZX Desktop Settings"
Creo que es dificil de solventar eso y sucede en los menus que se genera el indice de manera automática, en cambio
todos aquellos que usan la llamada a menu_add_item_menu_index_full_path aparecerá correctamente
->La solución seria que todos usasen menu_add_item_menu_index_full_path com por ejemplo en "Snapshots to RAM menu"


*topbar que funcione si no hay multitask?
ok-al mover raton arriba no aparecera overlay, porque necesita multitask y background windows even with menu closed precisamente
->acabar de probarlo bien


*en alguna ocasión no se desactiva topbar, se queda siempre visible aunque estemos en el Basic y con el foco ahí. relacionado con lo anterior
->quizá es culpa del autoframeskip?

*si estamos en una ventana y pulsamos F5, la ventana aparece como si estuviera activa (barra de titulo normal, marco, etc)

*mensajes debug topbar meterlos en un tipo de debug nuevo, para poder filtrar

*al pulsar en iconos de dispositivos, se abren los menus arriba, por debajo de donde estarían
los botones superiores. Quizá deberian abrirse mas arriba, justo por debajo del top menu?

menus de topbar deben salir con traducción también. aunque ocupará mas caracteres...

----------Fin top bar menu----------
----------------------------------------


-agregar a ayuda de debug cpu:
* lo de mostrar valores de registros modificados: que lo muestra en color inverso, etc etc
* mostrar memoria hexa en vistas 5 y 6, muestra diferencias respecto a anterior apertura vista 5/6
* memptx de vistas 5 y 6
* tecla 't' para evaluate


ok? -cuando se dispara un breakpoint que abre el menu, llamar a menu_debug_value_registers_modified_copy() para que se reseteen cambios anteriores
Con ruN pasa lo mismo también
No hace falta, dejamos que se guarde el estado anterior antes del Run, y si ha pasado mucho tiempo hasta que salta el breakpoint, pues
posiblemente habrá mucha cosa a mostrar como cambiada


-hacer un reduce 0.5 (como el 0.75 pero a la mitad). soportar antialias también
