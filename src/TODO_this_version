--------------------------------------------------
--------------top bar menu----------

*busqueda indexada. que cuando se haya abierto top bar agregue automaticamente "Main Menu" a todos, siempre que no venga indicado
claro. o no, porque si hay top bar, "Storage" menu por ejemplo es un menu directo sin tener que pasar por Main Menu
Excepto por el main menu mismo, sino agregaria "Main Menu->Main Menu"
->lo hace mal, parcialmente: ejemplo:
Main Menu-> Settings
pero:
Settings Menu-> Accessibility Settings
->pero sucede lo mismo sin topbar y desplegando menus desde los botones superiores
->Pero no puedo agregar "Main Menu" de manera sistemática a todos, por ejemplo al pulsar
boton derecho en zx desktop e ir a settings, se genera menu inicial  "ZX Desktop Settings". Si se agregase Main Menu quedaria:
"Main Menu-> ZX Desktop Settings", lo cual es incorrecto, lo correcto es:
"Main Menu-> Settings-> ZX Desktop Settings"
Creo que es dificil de solventar eso y sucede en los menus que se genera el indice de manera automática, en cambio
todos aquellos que usan la llamada a menu_add_item_menu_index_full_path aparecerá correctamente
->La solución seria que todos usasen menu_add_item_menu_index_full_path com por ejemplo en "Snapshots to RAM menu"


*en alguna ocasión no se desactiva topbar, se queda siempre visible aunque estemos en el Basic y con el foco ahí.
->quizá es culpa del autoframeskip?

*cuando raton está arriba del todo pero usando las teclas, que no interprete la posición del raton al seleccionar menus con el teclado,
al abrir con f5 por ejemplo

*menus de topbar deben salir con traducción también? aunque ocupará mas caracteres...

*poderse mover bien por el menu con teclado aunque raton esté arriba del todo

----------Fin top bar menu----------
----------------------------------------


-Juego de la vida que tenga ayuda con las reglas del juego. O ya lo tiene?


-Si conmuto de un CPU step a ventana abierta de hexedit, ejecutará alguna instrucción sin querer?
Y teniendo el stop emulation on menú? Se ejecuta alguna instrucción sin querer?


-algun tipo de build que no sea ni linux ni mac ni windows, sino simplemente UNIX_GENERIC o algo similar
Probar mas sistemas unix alternativos



DESTDIR deberia ir en generate_install.sh o en install.sh? Creo que en el último
Realmente es para el "make install" y tal y como está ahora seria suficiente


-Quizá texto corto de iconos podría mostrar mas letras, ahora está pensado para que no sobresalga el texto del ancho del icono,
pero queda bastante espacio aun para el icono a la derecha. ah o no, si quito autoorder es justo el espacio

-Ayuda para algunos tipos de iconos o acciones, como send keys menú: send keys por ejemplo tiene el caracter "@" que indica tecla ESC

ok -sendkeys menu poder simular envio ESC para hacer que se cierre el menu
->ok con "@"

-Para Minix:
curses enlazar contra -lcurses y no -lncurses
Poder definir otra tecla para abrir el menu, F5 lanza comandos del sistema
Por ejemplo en driver curses defino tecla END como si fuera F5
Parece que curses no tiene soporte para eventos de ratón
setting para compilar con clang


-lightgun
* parametros config de customconfigfile
* definir .config a los juegos de lightgun que hay en extras. Ver autoselectoptions.c
* mostrar sprite mirilla en posición de ratón. prueba en cpu_loop_refresca_pantalla:

if (rainbow_enabled.v) screen_add_watermark_rainbow();
else screen_add_watermark_no_rainbow();

//temp
#include "joystick.h"
if (rainbow_enabled.v) {
    int ancho_rainbow=get_total_ancho_rainbow();
    int alto_rainbow=get_total_alto_rainbow();
    int offset_x=10;
    int offset_y=10;
    //margen en los laterales para poder poner la mirilla centrada
    if (lightgun_x>=offset_x && lightgun_y>=offset_y &&
        lightgun_x<=ancho_rainbow-ZESARUX_ASCII_LOGO_ANCHO+offset_x && lightgun_y<=alto_rainbow-ZESARUX_ASCII_LOGO_ALTO+offset_y) {
    screen_put_asciibitmap_generic(bitmap_button_ext_desktop_exit,rainbow_buffer,lightgun_x-offset_x,lightgun_y-offset_y,
        ZESARUX_ASCII_LOGO_ANCHO,ZESARUX_ASCII_LOGO_ALTO, get_total_ancho_rainbow(),screen_generic_putpixel_indexcolour,1,0,0);
    }
}


ok -Acciones de debug para definir variables, incrementar y decrementar. Estas variables se pueden usar en breakpoints
Así por ejemplo puedo activar puntos de paro desde que se pulsa el botón de ratón y durante un rato (mediante variable que se incrementa) hacer punto de paro a final de cada frame

ok -Breakpoint de expresión al pulsar botón mouse. Con esto puedo activar un contador y andar pausando
pantalla al disparar en lightgun

