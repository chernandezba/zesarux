--------------------------------------------------
--------------top bar menu----------

*busqueda indexada. que cuando se haya abierto top bar agregue automaticamente "Main Menu" a todos, siempre que no venga indicado
claro. o no, porque si hay top bar, "Storage" menu por ejemplo es un menu directo sin tener que pasar por Main Menu
Excepto por el main menu mismo, sino agregaria "Main Menu->Main Menu"
->lo hace mal, parcialmente: ejemplo:
Main Menu-> Settings
pero:
Settings Menu-> Accessibility Settings
->pero sucede lo mismo sin topbar y desplegando menus desde los botones superiores
->Pero no puedo agregar "Main Menu" de manera sistemática a todos, por ejemplo al pulsar
boton derecho en zx desktop e ir a settings, se genera menu inicial  "ZX Desktop Settings". Si se agregase Main Menu quedaria:
"Main Menu-> ZX Desktop Settings", lo cual es incorrecto, lo correcto es:
"Main Menu-> Settings-> ZX Desktop Settings"
Creo que es dificil de solventar eso y sucede en los menus que se genera el indice de manera automática, en cambio
todos aquellos que usan la llamada a menu_add_item_menu_index_full_path aparecerá correctamente
->La solución seria que todos usasen menu_add_item_menu_index_full_path com por ejemplo en "Snapshots to RAM menu"


*topbar que funcione si no hay multitask?
ok-al mover raton arriba no aparecera overlay, porque necesita multitask y background windows even with menu closed precisamente
->acabar de probarlo bien


*en alguna ocasión no se desactiva topbar, se queda siempre visible aunque estemos en el Basic y con el foco ahí.
->quizá es culpa del autoframeskip?

*si estamos en una ventana y pulsamos F5, la ventana aparece como si estuviera activa (barra de titulo normal, marco, etc)

*mensajes debug topbar meterlos en un tipo de debug nuevo, para poder filtrar

*menus de topbar deben salir con traducción también? aunque ocupará mas caracteres...



----------Fin top bar menu----------
----------------------------------------



-agregar a ayuda de debug cpu:
* lo de mostrar valores de registros modificados: que lo muestra en color inverso, etc etc
* mostrar memoria hexa en vistas 5 y 6, muestra diferencias respecto a anterior apertura vista 5/6
* memptx de vistas 5 y 6
* tecla 't' para evaluate


ok? -cuando se dispara un breakpoint que abre el menu, llamar a menu_debug_value_registers_modified_copy() para que se reseteen cambios anteriores
Con ruN pasa lo mismo también
No hace falta, dejamos que se guarde el estado anterior antes del Run, y si ha pasado mucho tiempo hasta que salta el breakpoint, pues
posiblemente habrá mucha cosa a mostrar como cambiada


ok -funcion (fkey/icono) que permita enviar abrir menu y enviar pulsaciones de hotkeys, para poder lanzar la mayoria de acciones de menus
acabarlo de probar


-Ayuda para algunos tipos de iconos o acciones, como send keys menú

-Juego de la vida que tenga ayuda con las reglas del juego. O ya lo tiene?

-Zoom 0.75/0.50 debería estar en opciones display?

-Si conmuto de un CPU step a ventana abierta de hexedit, ejecutará alguna instrucción sin querer?
Y teniendo el stop emulation on menú? Se ejecuta alguna instrucción sin querer?


-algun tipo de build que no sea ni linux ni mac ni windows, sino simplemente UNIX_GENERIC o algo similar
Probar mas sistemas unix alternativos

ok -fondo de botones superiores e inferiores debe seguir el color de paper del estilo activo
-Revisar que en todos estilos se vean bien

-Poder habilitar contorno de manera independiente en:
*botones superiores
*botones inferiores
*iconos zx desktop
Quizá no se puede porque la función es única
Quizá a screen_put_asciibitmap_generic_offset_inicio habria que pasar un parámetro para indicar tipo icono para saber la envoltura
Quizá el parametro ya está y es permitir envoltura
Si 0, no. Si 1, upper. Si 2, lower. Si 3, icono desktop
Pero luego el color de envoltura, tambien es configurable cada tipo de icono con su color? Demasiado complejo?
Pero por ejempo en menu_zxdesktop_set_userdef_button_func_action_overlay, ahora dibuja contorno. Pero luego? Le decimos que es 3 (icono desktop)?

-En forzar color de fondo de iconos del desktop siempre es blanco. Si le pongo el color de gui, se verá mal?
->Creo que tendria que ser siempre blanco porque los iconos se han dibujado pensando en fondo blanco